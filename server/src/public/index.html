<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="color-scheme" content="light dark">
    <title>Where - Live Tracking</title>

    <!-- Favicon and Icons -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="192x192" href="icon-192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="icon-512.png">
    <link rel="apple-touch-icon" href="icon-192.png">

    <link rel="stylesheet" href="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css">
    <link rel="stylesheet" href="app.css">
</head>
<body>
    <div id="map"></div>
    <div class="version-display" id="version-display"></div>
    <!-- VERSION_PLACEHOLDER -->
    <button id="show-panel-btn" class="show-panel-btn" onclick="showPanel()">
        üìç Live Tracks
    </button>
    <div class="info-panel" id="info-panel">
        <div class="panel-header">
            <h2>Live Tracks</h2>
            <button class="close-btn" onclick="hidePanel()" title="Close">√ó</button>
        </div>
        <div class="admin-section" id="admin-section">
            <div style="font-weight: 600; margin-bottom: 4px;">üëë Admin Active</div>
            <div style="font-size: 11px; opacity: 0.9; margin-bottom: 8px;">Viewing all tracks</div>
            <button class="admin-button" onclick="disableAdmin()">Disable Admin</button>
        </div>
        <div class="client-filter">
            <h3>Filter by Client ID</h3>
            <div class="client-tags" id="client-tags"></div>
            <div class="add-client-form">
                <input type="text" id="client-input" placeholder="Enter client ID (e.g., abc123)" maxlength="6">
                <button onclick="addClientFilter()">Add</button>
            </div>
            <div style="margin-top: 8px;">
                <label for="historical-toggle" style="font-size: 12px; display: flex; align-items: center; gap: 6px; cursor: pointer;">
                    <input type="checkbox" id="historical-toggle" onchange="toggleHistorical()" style="cursor: pointer;">
                    Show historical (24h)
                </label>
            </div>
        </div>
        <div id="tracks-list">
            <div class="loading">
                <div class="spinner"></div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js"></script>
    <script src="app.js"></script>
</body>
</html>